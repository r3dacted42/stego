(function(){"use strict";self.onmessage=a=>{try{const{bitmap:t}=a.data,e=new OffscreenCanvas(t.width,t.height),s=e.getContext("2d");if(!s){self.postMessage({error:"Failed to get OffscreenCanvas context"});return}s.drawImage(t,0,0),t.close();const o=s.getImageData(0,0,e.width,e.height).data,n=Math.floor(o.length/4)*3,c={size:Math.floor(n/8)-4};self.postMessage(c)}catch(t){const e=t;self.postMessage({error:e.message})}}})();
