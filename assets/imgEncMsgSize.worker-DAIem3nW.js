(function(){"use strict";self.onmessage=s=>{try{console.log("Worker received bitmap for size calculation");const{bitmap:e}=s.data,t=new OffscreenCanvas(e.width,e.height),a=t.getContext("2d");if(!a){self.postMessage({error:"Failed to get OffscreenCanvas context"});return}a.drawImage(e,0,0),e.close();const o=a.getImageData(0,0,t.width,t.height).data.length,n={size:Math.floor(o/8)-4};self.postMessage(n)}catch(e){const t=e;self.postMessage({error:t.message})}}})();
